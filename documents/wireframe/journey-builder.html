<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>LEO CDP - AI Smart Journey Builder</title>
    <!-- Bootstrap 3.7 CSS CDN -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap-theme.min.css"
        integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Mermaid.js -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            padding: 20px;
            background: #f5f5f5;
        }

        .sidebar {
            background: #2c3e50;
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .sidebar a {
            color: #fff;
            display: block;
            margin: 10px 0;
            text-decoration: none;
        }

        .content {
            padding: 20px;
            background: #fff;
            border-radius: 5px;
        }

        .flowchart {
            background: #fff;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            min-height: 300px;
        }
    </style>

    <!-- Include Bootstrap Multiselect CSS & JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-multiselect@0.9.15/dist/css/bootstrap-multiselect.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-multiselect@0.9.15/dist/js/bootstrap-multiselect.min.js"></script>

</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-sm-3 sidebar">
                <h3>LEO CDP</h3>
                <a href="#">Dashboard</a>
                <a href="#">Campaigns</a>
                <a href="#">Segments</a>
                <a href="#">Audience</a>
                <a href="#">Reports</a>
                <a href="#">Settings</a>
            </div>

            <!-- Main Content -->
            <div class="col-sm-9">
                <div class="content">
                    <h2>AI Smart Journey Builder</h2>
                    <p>Let AI create the best campaign journey for you. Just fill in the campaign details.</p>

                    <!-- Campaign Goal -->
                    <div class="form-group">
                        <label for="campaignGoal">Campaign Goal</label>
                        <input type="text" class="form-control" id="campaignGoal"
                            placeholder="e.g., Increase Lead Conversion">
                    </div>

                    <!-- Audience Segment -->
                    <div class="form-group">
                        <label for="audienceSelect">Audience Segment</label>
                        <select class="form-control" id="audienceSelect">
                            <option value="vip">VIP Customers</option>
                            <option value="new">New Users</option>
                            <option value="inactive">Inactive Users</option>
                            <option value="all">All Users</option>
                        </select>
                    </div>

                    <!-- Channel Recommendation -->
                    <div class="form-group">
                        <label for="channelRecommendation">Channel Recommendation</label>
                        <select id="channelRecommendation" multiple="multiple">
                            <option value="Email">Email</option>
                            <option value="SMS">SMS</option>
                            <option value="Push">Push</option>
                        </select>
                    </div>


                    <!-- Run Date and Time -->
                    <div class="form-group">
                        <label for="runDateTime">Run At (Date & Time)</label>
                        <input type="datetime-local" class="form-control" id="runDateTime">
                    </div>

                    <!-- Action Type -->
                    <div class="form-group">
                        <label for="actionType">Action Type</label>
                        <select class="form-control" id="actionType">
                            <option value="email">Email</option>
                            <option value="zalo">Zalo Notification</option>
                            <option value="push">App Push Notification</option>
                        </select>
                    </div>

                    <!-- Frequency Capping Recommendation -->
                    <div class="form-group">
                        <label for="frequencyCapping">Frequency Capping Recommendation</label>
                        <input type="text" class="form-control" id="frequencyCapping"
                            placeholder="e.g., 1 message/day, 3/week">
                    </div>

                    <!-- Generate Journey -->
                    <button id="generateJourney" class="btn btn-success">Generate AI Journey</button>

                    <!-- AI-Generated Flowchart -->
                    <div class="flowchart">
                        <h4>AI Generated Journey</h4>
                        <div class="mermaid" id="journeyDiagram">
                            %% Placeholder, AI will replace content
                            graph TD
                            A[Start] --> B[Segment Audience]
                            B --> C[Personalize Message]
                            C --> D{Channel?}
                            D -->|Email| E[Send Email]
                            D -->|SMS| F[Send SMS]
                            D -->|Push| G[Send Push]
                            E --> H[Track Engagement]
                            F --> H
                            G --> H
                            H --> I{Conversion?}
                            I -->|Yes| J[Reward Customer]
                            I -->|No| K[Retarget Later]
                            J --> L[End]
                            K --> L[End]
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>

    <script>
        $(document).ready(function () {
            $('#generateJourney').click(function () {
                const goal = $('#campaignGoal').val();
                const audience = $('#audienceSelect').val();
                const channel = $('#channelRecommendation').val();
                const runDate = $('#runDateTime').val();
                const actionType = $('#actionType').val();
                const frequency = $('#frequencyCapping').val();

                // Simplified AI simulation: create flowchart text
                const aiFlow = `
graph TD
A[Start] --> B[Segment Audience: ${audience}]
B --> C[AI Personalize: ${goal}]
C --> D{Channel?}
D -->|${actionType}| E[Send ${actionType}]
E --> F[Track Engagement]
F --> G{Conversion?}
G -->|Yes| H[Reward Customer]
G -->|No| I[Retarget Later]
H --> J[End]
I --> J[End]
        `;

                // Update mermaid diagram
                $('#journeyDiagram').text(aiFlow);
                mermaid.init({ startOnLoad: true }, '#journeyDiagram');
            });

            $('#channelRecommendation').multiselect({
                includeSelectAllOption: true,
                enableFiltering: true,
                buttonWidth: '100%',
                nonSelectedText: 'Select channels',
                allSelectedText: 'All channels selected'
            });
        });
    </script>
</body>

</html>