// Version: v_0.9.0_2026-02-13-16-49-11
'use strict';(function(c){class e{constructor(a={}){this.options=Object.assign({locale:"en",mountTo:document.body,triggerSelector:"[data-leo-newsletter]",collectPhone:!1,theme:"light",autoCloseDelay:3E3,i18n:{}},a);this._injectStyles();this._createModal();this._bindTriggers()}open(a=null){this.overlay.classList.add("active");this.overlay.style.display="flex";this._dispatch("leo.newsletter.open",{source:a});setTimeout(()=>{this.inputName&&this.inputName.focus()},100)}close(){this.overlay.classList.remove("active");
setTimeout(()=>{this.overlay.style.display="none"},250);this._dispatch("leo.newsletter.close",{})}_createModal(){this.overlay=document.createElement("div");this.overlay.className="leo-modal-overlay";let a="leo-theme-light";"dark"===this.options.theme?a="leo-theme-dark":"auto"===this.options.theme&&c.matchMedia&&c.matchMedia("(prefers-color-scheme: dark)").matches&&(a="leo-theme-dark");this.overlay.innerHTML=`
        <div class="leo-modal ${a}">
          <button class="leo-modal-close" aria-label="Close">&times;</button>
          <div class="leo-modal-title"></div>
          <div class="leo-modal-description"></div>
          <form>
            <input type="text" id="leo-name-input" class="leo-input" required />
            <input type="email" id="leo-email-input" class="leo-input" required />
            ${this.options.collectPhone?'\x3cinput type\x3d"tel" id\x3d"leo-phone-input" class\x3d"leo-input" placeholder\x3d"Phone Number" /\x3e':""}
            <button type="submit" class="leo-button"></button>
          </form>
          <div class="leo-success"></div>
          <div class="leo-footer-text"></div>
        </div>
      `;this.options.mountTo.appendChild(this.overlay);this.modal=this.overlay.querySelector(".leo-modal");this.closeBtn=this.overlay.querySelector(".leo-modal-close");this.form=this.overlay.querySelector("form");this.inputName=this.overlay.querySelector("#leo-name-input");this.inputEmail=this.overlay.querySelector("#leo-email-input");this.inputPhone=this.overlay.querySelector("#leo-phone-input");this.button=this.overlay.querySelector(".leo-button");this.successBox=this.overlay.querySelector(".leo-success");
this.titleEl=this.overlay.querySelector(".leo-modal-title");this.descEl=this.overlay.querySelector(".leo-modal-description");this.footerText=this.overlay.querySelector(".leo-footer-text");this._applyI18n();this._bindEvents()}_bindEvents(){this.closeBtn.addEventListener("click",()=>this.close());this.overlay.addEventListener("click",a=>{a.target===this.overlay&&this.close()});this.form.addEventListener("submit",a=>{a.preventDefault();a=this.inputName.value.trim();const b=this.inputEmail.value.trim();
let d="";if(!a||2>a.length)return this._showError("name");if(!this._validateEmail(b))return this._showError("email");if(this.options.collectPhone&&this.inputPhone&&(d=this.inputPhone.value.trim(),!this._validatePhone(d)))return this._showError("phone");a={name:a,email:b,phone:d};this._dispatch("leo.newsletter.submit",a);this.successBox.style.display="block";this.form.style.display="none";this._dispatch("leo.newsletter.success",a);setTimeout(()=>{this.form.reset();this.successBox.style.display="none";
this.form.style.display="block";this.close()},this.options.autoCloseDelay)})}_showError(a){alert(`Invalid ${a}. Please check your input.`);"name"===a&&this.inputName.focus();"email"===a&&this.inputEmail.focus();"phone"===a&&this.inputPhone.focus()}_validateEmail(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}_validatePhone(a){if(!/^[0-9\-\+ ]+$/.test(a))return!1;a=a.replace(/\D/g,"");return 7<=a.length&&15>=a.length}_applyI18n(){const a=this.options.i18n[this.options.locale]||{};this.titleEl.textContent=
a.title||"LEO CDP Updates";this.descEl.textContent=a.description||"Get product updates directly to your inbox.";this.inputName.placeholder=a.placeholderName||"Your name";this.inputEmail.placeholder=a.placeholderEmail||"Your work email";this.inputPhone&&(this.inputPhone.placeholder=a.placeholderPhone||"Phone number");this.button.textContent=a.button||"Subscribe";this.footerText.textContent=a.footer||"No spam. Unsubscribe anytime.";this.successBox.textContent=a.success||"Thank you! You have successfully subscribed."}_bindTriggers(){document.querySelectorAll(this.options.triggerSelector).forEach(a=>
{a.addEventListener("click",b=>{b.preventDefault();this.open(a.getAttribute("data-leo-newsletter"))})})}_dispatch(a,b){document.dispatchEvent(new CustomEvent(a,{detail:b}))}_injectStyles(){if(!document.getElementById("leo-newsletter-styles")){var a=document.createElement("style");a.id="leo-newsletter-styles";a.textContent="\n        /* Variables */\n        :root {\n          --leo-z-index: 9999;\n          --leo-font: 'Inter', system-ui, -apple-system, sans-serif;\n        }\n\n        /* Light Theme (Default) */\n        .leo-theme-light {\n          --leo-bg: #ffffff;\n          --leo-text-primary: #111827;\n          --leo-text-secondary: #6b7280;\n          --leo-input-bg: #ffffff;\n          --leo-input-border: #d1d5db;\n          --leo-input-text: #111827;\n          --leo-btn-close-bg: #f3f4f6;\n          --leo-btn-close-text: #6b7280;\n        }\n\n        /* Dark Theme */\n        .leo-theme-dark {\n          --leo-bg: #1f2937;\n          --leo-text-primary: #f9fafb;\n          --leo-text-secondary: #9ca3af;\n          --leo-input-bg: #374151;\n          --leo-input-border: #4b5563;\n          --leo-input-text: #f3f4f6;\n          --leo-btn-close-bg: #374151;\n          --leo-btn-close-text: #9ca3af;\n        }\n\n        .leo-modal-overlay {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.5);\n          display: none; /* Toggled by JS */\n          align-items: center;\n          justify-content: center;\n          z-index: var(--leo-z-index);\n          opacity: 0;\n          transition: opacity 0.25s ease;\n        }\n\n        .leo-modal-overlay.active {\n          opacity: 1;\n        }\n\n        .leo-modal {\n          width: 420px;\n          max-width: 90%;\n          background: var(--leo-bg);\n          color: var(--leo-text-primary);\n          border-radius: 12px;\n          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n          padding: 32px 24px;\n          font-family: var(--leo-font);\n          position: relative;\n          transform: translateY(10px);\n          transition: transform 0.25s ease;\n        }\n\n        .leo-modal-overlay.active .leo-modal {\n          transform: translateY(0);\n        }\n\n        .leo-modal-close {\n          position: absolute;\n          right: 16px;\n          top: 16px;\n          width: 32px;\n          height: 32px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          cursor: pointer;\n          border: none;\n          background-color: var(--leo-btn-close-bg);\n          color: var(--leo-btn-close-text);\n          border-radius: 50%;\n          transition: filter 0.2s;\n        }\n        .leo-modal-close:hover { filter: brightness(0.9); }\n\n        .leo-modal-title {\n          font-size: 22px;\n          font-weight: 700;\n          margin-bottom: 8px;\n          color: var(--leo-text-primary);\n          line-height: 1.2;\n        }\n\n        .leo-modal-description {\n          font-size: 15px;\n          color: var(--leo-text-secondary);\n          margin-bottom: 24px;\n          line-height: 1.5;\n        }\n\n        .leo-input {\n          display: block;\n          width: 100%;\n          padding: 12px 16px;\n          margin-bottom: 12px;\n          border-radius: 8px;\n          border: 1px solid var(--leo-input-border);\n          background: var(--leo-input-bg);\n          color: var(--leo-input-text);\n          font-size: 15px;\n          outline: none;\n          transition: border-color 0.2s ease;\n          box-sizing: border-box;\n        }\n\n        .leo-input:focus {\n          border-color: #2563eb;\n          box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n        }\n\n        .leo-button {\n          width: 100%;\n          margin-top: 8px;\n          padding: 14px;\n          border-radius: 8px;\n          border: none;\n          background: #2563eb;\n          color: #fff;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: background 0.2s ease;\n        }\n\n        .leo-button:hover { background: #1d4ed8; }\n\n        .leo-footer-text {\n          margin-top: 16px;\n          font-size: 13px;\n          color: var(--leo-text-secondary);\n          text-align: center;\n        }\n\n        .leo-success {\n          margin-top: 16px;\n          padding: 12px;\n          border-radius: 8px;\n          background: #d1fae5;\n          color: #065f46;\n          font-weight: 500;\n          font-size: 14px;\n          text-align: center;\n          display: none;\n        }\n        \n        /* Dark mode specific override for success message */\n        .leo-theme-dark .leo-success {\n          background: #064e3b;\n          color: #ecfdf5;\n        }\n      ";
document.head.appendChild(a)}}}c.LeoNewsletterModal=e})(window);